#!/usr/bin/env ruby
require 'optparse'
require File.expand_path(File.dirname(__FILE__) + '/../lib/pruner')

options = {}
OptionParser.new do |opts|
  opts.banner = 'Usage: pruner [options]'
  
  opts.on('-C', '--config CONFIG', 'Relative path to config.yml') do |cfg|
    options[:config_file_path] = cfg || '../config.yml'
  end
  
  opts.on('-v', '--[no-]verbose', 'Run verbosely') do |v|
    options[:verbose] = v || true
  end
  
  opts.on('-l', '--[not-]live', 'Run live') do |l|
    options[:live] = l || false
  end
  
  
  opts.on_tail('-h', '--help', 'Show this message') do
    puts opts
    exit
  end
  
  opts.parse!
end

Pruner.new(options).prune!